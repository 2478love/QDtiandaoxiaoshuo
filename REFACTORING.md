# é¡¹ç›®é‡æ„è¯´æ˜

## ğŸ“‹ é‡æ„å†…å®¹

æœ¬æ¬¡é‡æ„ä¸»è¦å¯¹é¡¹ç›®ç›®å½•ç»“æ„è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½¿å…¶æ›´åŠ æ¸…æ™°ã€æ¨¡å—åŒ–å’Œæ˜“äºç»´æŠ¤ã€‚

## ğŸ”„ ä¸»è¦å˜æ›´

### 1. ç›®å½•ç»“æ„é‡ç»„

#### æ—§ç»“æ„
```
â”œâ”€â”€ App.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ AuthModal/
â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”œâ”€â”€ Sidebar/
â”‚   â””â”€â”€ ...ï¼ˆæ‰€æœ‰ç»„ä»¶å¹³çº§ï¼‰
â”œâ”€â”€ hooks/
â”œâ”€â”€ services/
â”œâ”€â”€ types.ts
â”œâ”€â”€ constants.tsx
â”œâ”€â”€ index.tsx
â””â”€â”€ ...
```

#### æ–°ç»“æ„
```
new/
â””â”€â”€ src/
    â”œâ”€â”€ main.tsx
    â”œâ”€â”€ App.tsx
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
    â”‚   â””â”€â”€ features/        # åŠŸèƒ½ç»„ä»¶
    â”œâ”€â”€ hooks/
    â”œâ”€â”€ services/
    â”‚   â””â”€â”€ api/
    â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰æ¨¡å—åŒ–
    â”œâ”€â”€ constants/           # å¸¸é‡æ¨¡å—åŒ–
    â””â”€â”€ utils/               # å·¥å…·å‡½æ•°ç‹¬ç«‹
```

### 2. æ¨¡å—åŒ–æ”¹è¿›

#### ç±»å‹å®šä¹‰ (`types/`)
- **æ—§**: å•ä¸€ `types.ts` æ–‡ä»¶åŒ…å«æ‰€æœ‰ç±»å‹
- **æ–°**: æŒ‰åŠŸèƒ½åŸŸæ‹†åˆ†
  - `common.ts` - é€šç”¨ç±»å‹
  - `user.ts` - ç”¨æˆ·ç›¸å…³
  - `novel.ts` - å°è¯´ç›¸å…³
  - `prompt.ts` - æç¤ºè¯ç›¸å…³
  - `index.ts` - ç»Ÿä¸€å¯¼å‡º

#### å¸¸é‡é…ç½® (`constants/`)
- **æ—§**: å•ä¸€ `constants.tsx` æ–‡ä»¶
- **æ–°**: åˆ†ç±»ç®¡ç†
  - `icons.tsx` - å›¾æ ‡ç»„ä»¶
  - `navigation.ts` - å¯¼èˆªé…ç½®
  - `index.ts` - ç»Ÿä¸€å¯¼å‡º

#### å·¥å…·å‡½æ•° (`utils/`)
- **æ—§**: ç›´æ¥åœ¨ `App.tsx` ä¸­å®šä¹‰
- **æ–°**: ç‹¬ç«‹æ¨¡å—
  - `id.ts` - ID ç”Ÿæˆ
  - `hash.ts` - å“ˆå¸Œå‡½æ•°
  - `index.ts` - ç»Ÿä¸€å¯¼å‡º

#### ç»„ä»¶åˆ†ç±» (`components/`)
- **æ—§**: æ‰€æœ‰ç»„ä»¶å¹³çº§å­˜æ”¾
- **æ–°**: æŒ‰èŒè´£åˆ†ç±»
  - `layout/` - å¸ƒå±€ç»„ä»¶ï¼ˆSidebar, AuthModalï¼‰
  - `features/` - åŠŸèƒ½ç»„ä»¶ï¼ˆDashboard, WritingTool ç­‰ï¼‰

### 3. å¯¼å…¥è·¯å¾„ä¼˜åŒ–

#### æ—§çš„å¯¼å…¥æ–¹å¼
```typescript
import { usePersistentState } from './hooks/usePersistentState';
import { ViewState, User, Theme } from './types';
import Sidebar from './components/Sidebar';
```

#### æ–°çš„å¯¼å…¥æ–¹å¼
```typescript
import { usePersistentState } from './hooks';
import { ViewState, User, Theme, StoredUser } from './types';
import Sidebar from './components/layout/Sidebar';
```

### 4. å…¥å£æ–‡ä»¶è°ƒæ•´

- **æ—§**: `index.tsx` ä½œä¸ºå…¥å£
- **æ–°**: `src/main.tsx` ä½œä¸ºå…¥å£ï¼Œéµå¾ª Vite æ ‡å‡†çº¦å®š

## âœ… ä¼˜åŠ¿

### 1. æ›´å¥½çš„å¯ç»´æŠ¤æ€§
- æ–‡ä»¶æŒ‰èŒè´£åˆ†ç±»ï¼Œæ˜“äºå®šä½
- æ¨¡å—èŒè´£å•ä¸€ï¼Œä¾¿äºç†è§£å’Œä¿®æ”¹

### 2. æ›´å¼ºçš„å¯æ‰©å±•æ€§
- æ–°å¢åŠŸèƒ½æ—¶ç›®å½•ç»“æ„æ¸…æ™°
- ä¾¿äºå›¢é˜Ÿåä½œï¼Œå‡å°‘å†²çª

### 3. æ›´ä¼˜çš„å¼€å‘ä½“éªŒ
- å¯¼å…¥è·¯å¾„ç®€æ´æ˜äº†
- ç±»å‹æç¤ºæ›´åŠ å‡†ç¡®
- IDE æ”¯æŒæ›´å¥½

### 4. ç¬¦åˆæœ€ä½³å®è·µ
- éµå¾ª React ç¤¾åŒºçº¦å®š
- ç¬¦åˆ Vite é¡¹ç›®è§„èŒƒ
- æ˜“äºé›†æˆå…¶ä»–å·¥å…·

## ğŸš€ ä½¿ç”¨æ–°ç»“æ„

### å¼€å‘
```bash
cd new
npm install
npm run dev
```

### æ„å»º
```bash
cd new
npm run build
```

### é¢„è§ˆ
```bash
cd new
npm run preview
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡**: ç¡®ä¿ `.env.local` æ–‡ä»¶å·²æ­£ç¡®é…ç½®
2. **ä¾èµ–å®‰è£…**: é¦–æ¬¡ä½¿ç”¨éœ€è¦è¿è¡Œ `npm install`
3. **API å¯†é’¥**: éœ€è¦é…ç½®æœ‰æ•ˆçš„ Gemini API å¯†é’¥
4. **æµè§ˆå™¨å…¼å®¹**: å»ºè®®ä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼ˆChrome, Firefox, Edge ç­‰ï¼‰

## ğŸ” æ–‡ä»¶å¯¹ç…§è¡¨

| æ—§è·¯å¾„ | æ–°è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `index.tsx` | `src/main.tsx` | åº”ç”¨å…¥å£ |
| `App.tsx` | `src/App.tsx` | ä¸»ç»„ä»¶ |
| `types.ts` | `src/types/` | ç±»å‹å®šä¹‰ç›®å½• |
| `constants.tsx` | `src/constants/` | å¸¸é‡ç›®å½• |
| `components/Sidebar/` | `src/components/layout/Sidebar/` | å¸ƒå±€ç»„ä»¶ |
| `components/Dashboard/` | `src/components/features/Dashboard/` | åŠŸèƒ½ç»„ä»¶ |
| `services/geminiService.ts` | `src/services/api/gemini.ts` | API æœåŠ¡ |
| `hooks/usePersistentState.ts` | `src/hooks/usePersistentState.ts` | Hooks |

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **æ€§èƒ½ä¼˜åŒ–**: ä»£ç åˆ†å‰²ã€æ‡’åŠ è½½
2. **æµ‹è¯•è¦†ç›–**: å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•
3. **æ–‡æ¡£å®Œå–„**: API æ–‡æ¡£ã€ç»„ä»¶æ–‡æ¡£
4. **å›½é™…åŒ–**: å¤šè¯­è¨€æ”¯æŒ
5. **ä¸»é¢˜ç³»ç»Ÿ**: æ›´å¤šä¸»é¢˜é€‰é¡¹

## ğŸ’¡ å»ºè®®

- æ‰€æœ‰æ–°åŠŸèƒ½è¯·åœ¨ `new` ç›®å½•ä¸‹å¼€å‘
- éµå¾ªæ–°çš„ç›®å½•ç»“æ„å’Œå‘½åè§„èŒƒ
- ä½¿ç”¨ç»Ÿä¸€çš„å¯¼å…¥æ–¹å¼
- ä¿æŒä»£ç é£æ ¼ä¸€è‡´

## â“ å¸¸è§é—®é¢˜

### Q: æ—§ä»£ç è¿˜èƒ½ç”¨å—ï¼Ÿ
A: å¯ä»¥ï¼Œä½†å»ºè®®è¿ç§»åˆ°æ–°ç»“æ„ä»¥è·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒã€‚

### Q: å¦‚ä½•è¿ç§»ç°æœ‰ä»£ç ï¼Ÿ
A: å‚è€ƒæ–‡ä»¶å¯¹ç…§è¡¨ï¼ŒæŒ‰ç…§æ–°çš„ç›®å½•ç»“æ„è°ƒæ•´å¯¼å…¥è·¯å¾„å³å¯ã€‚

### Q: æ–°ç»“æ„ä¼šå½±å“æ€§èƒ½å—ï¼Ÿ
A: ä¸ä¼šï¼Œåè€Œé€šè¿‡æ›´å¥½çš„æ¨¡å—åŒ–æœ‰åˆ©äºä»£ç åˆ†å‰²å’Œä¼˜åŒ–ã€‚

---

é‡æ„æ—¥æœŸ: 2025-12-22
